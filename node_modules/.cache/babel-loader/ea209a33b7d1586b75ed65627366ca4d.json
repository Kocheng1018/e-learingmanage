{"remainingRequest":"/Users/kocheng/Documents/E-Learning/frontend-management/node_modules/babel-loader/lib/index.js!/Users/kocheng/Documents/E-Learning/frontend-management/node_modules/eslint-loader/index.js??ref--12-0!/Users/kocheng/Documents/E-Learning/frontend-management/src/apis/https.js","dependencies":[{"path":"/Users/kocheng/Documents/E-Learning/frontend-management/src/apis/https.js","mtime":1591271241977},{"path":"/Users/kocheng/Documents/E-Learning/frontend-management/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kocheng/Documents/E-Learning/frontend-management/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/kocheng/Documents/E-Learning/frontend-management/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7IC8vIGltcG9ydCByb3V0ZXIgZnJvbSAnLi4vcm91dGVyL2luZGV4LmpzJzsKCmltcG9ydCB7IHRpcCB9IGZyb20gJy4vdXRpbHMuanMnOwoKdmFyIGVycm9ySGFuZGVsID0gZnVuY3Rpb24gZXJyb3JIYW5kZWwoc3RhdHVzLCBtc2cpIHsKICBzd2l0Y2ggKHN0YXR1cykgewogICAgY2FzZSA0MDA6CiAgICAgIHRpcChtc2cpOwogICAgICBicmVhazsKCiAgICBjYXNlIDQwNDoKICAgICAgdGlwKG1zZyk7CiAgICAgIGJyZWFrOwoKICAgIGRlZmF1bHQ6CiAgICAgIHRpcChtc2cpOwogICAgICBicmVhazsKICB9Cn07Cgp2YXIgaW5zdGFuY2UgPSBheGlvcy5jcmVhdGUoewogIGJhc2VVUkw6ICcvYXBpLycKfSk7Cmluc3RhbmNlLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgcmV0dXJuIGNvbmZpZzsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7Cmluc3RhbmNlLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgcmV0dXJuIHJlc3BvbnNlOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICB2YXIgcmVzcG9uc2UgPSBlcnJvci5yZXNwb25zZTsKCiAgaWYgKHJlc3BvbnNlKSB7CiAgICBlcnJvckhhbmRlbChyZXNwb25zZS5zdGF0dXMsIHJlc3BvbnNlLmRhdGEuZXJyb3IpOwogICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKICB9IGVsc2UgewogICAgaWYgKCF3aW5kb3cubmF2aWdhdG9yLm9uTGluZSkgewogICAgICB0aXAoJ+e2sui3r+WVj+mhjCDoq4vph43mlrDpgKPnt5onKTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7CiAgICB9CiAgfQp9KTsKZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKG1ldGhvZCwgdXJsKSB7CiAgdmFyIGRhdGEgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IG51bGw7CiAgbWV0aG9kID0gbWV0aG9kLnRvTG93ZXJDYXNlKCk7CgogIGlmIChtZXRob2QgPT0gJ3Bvc3QnKSB7CiAgICByZXR1cm4gaW5zdGFuY2UucG9zdCh1cmwsIGRhdGEpOwogIH0gZWxzZSBpZiAobWV0aG9kID09ICdnZXQnKSB7CiAgICByZXR1cm4gaW5zdGFuY2UuZ2V0KHVybCwgewogICAgICBwYXJhbXM6IGRhdGEKICAgIH0pOwogIH0gZWxzZSBpZiAobWV0aG9kID09ICdkZWxldGUnKSB7CiAgICByZXR1cm4gaW5zdGFuY2UuZGVsZXRlKHVybCwgewogICAgICBwYXJhbXM6IGRhdGEKICAgIH0pOwogIH0gZWxzZSBpZiAobWV0aG9kID09ICdwdXQnKSB7CiAgICByZXR1cm4gaW5zdGFuY2UucHV0KHVybCwgZGF0YSk7CiAgfSBlbHNlIHsKICAgIGNvbnNvbGUuZXJyb3IoJ+acquefpW1ldGhvZCcgKyBtZXRob2QpOwogICAgcmV0dXJuIGZhbHNlOwogIH0KfQ=="},{"version":3,"sources":["/Users/kocheng/Documents/E-Learning/frontend-management/src/apis/https.js"],"names":["axios","tip","errorHandel","status","msg","instance","create","baseURL","interceptors","request","use","config","error","Promise","reject","response","data","window","navigator","onLine","method","url","toLowerCase","post","get","params","delete","put","console"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;;AACA,SAASC,GAAT,QAAoB,YAApB;;AAEA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,MAAD,EAASC,GAAT,EAAiB;AACjC,UAAOD,MAAP;AACI,SAAK,GAAL;AACIF,MAAAA,GAAG,CAACG,GAAD,CAAH;AACA;;AAEJ,SAAK,GAAL;AACIH,MAAAA,GAAG,CAACG,GAAD,CAAH;AACA;;AAEJ;AACIH,MAAAA,GAAG,CAACG,GAAD,CAAH;AACA;AAXR;AAaH,CAdD;;AAgBA,IAAIC,QAAQ,GAAGL,KAAK,CAACM,MAAN,CAAa;AACxBC,EAAAA,OAAO,EAAE;AADe,CAAb,CAAf;AAIAF,QAAQ,CAACG,YAAT,CAAsBC,OAAtB,CAA8BC,GAA9B,CAAkC,UAACC,MAAD,EAAY;AAC1C,SAAOA,MAAP;AACH,CAFD,EAEG,UAACC,KAAD,EAAW;AACV,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACH,CAJD;AAMAP,QAAQ,CAACG,YAAT,CAAsBO,QAAtB,CAA+BL,GAA/B,CAAmC,UAACK,QAAD,EAAc;AAC7C,SAAOA,QAAP;AACH,CAFD,EAEG,UAACH,KAAD,EAAW;AAAA,MACFG,QADE,GACWH,KADX,CACFG,QADE;;AAEV,MAAIA,QAAJ,EAAc;AACVb,IAAAA,WAAW,CAACa,QAAQ,CAACZ,MAAV,EAAkBY,QAAQ,CAACC,IAAT,CAAcJ,KAAhC,CAAX;AACA,WAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACH,GAHD,MAGO;AACH,QAAI,CAACK,MAAM,CAACC,SAAP,CAAiBC,MAAtB,EAA8B;AAC1BlB,MAAAA,GAAG,CAAC,YAAD,CAAH;AACH,KAFD,MAEO;AACH,aAAOY,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACH;AACJ;AACJ,CAdD;AAgBA,eAAe,UAAUQ,MAAV,EAAkBC,GAAlB,EAAkC;AAAA,MAAXL,IAAW,uEAAN,IAAM;AAC7CI,EAAAA,MAAM,GAAGA,MAAM,CAACE,WAAP,EAAT;;AACA,MAAIF,MAAM,IAAI,MAAd,EAAsB;AAClB,WAAOf,QAAQ,CAACkB,IAAT,CAAcF,GAAd,EAAmBL,IAAnB,CAAP;AACH,GAFD,MAEM,IAAII,MAAM,IAAI,KAAd,EAAoB;AACtB,WAAOf,QAAQ,CAACmB,GAAT,CAAaH,GAAb,EAAkB;AAACI,MAAAA,MAAM,EAAET;AAAT,KAAlB,CAAP;AACH,GAFK,MAEA,IAAII,MAAM,IAAI,QAAd,EAAwB;AAC1B,WAAOf,QAAQ,CAACqB,MAAT,CAAgBL,GAAhB,EAAqB;AAACI,MAAAA,MAAM,EAAET;AAAT,KAArB,CAAP;AACH,GAFK,MAEA,IAAII,MAAM,IAAI,KAAd,EAAqB;AACvB,WAAOf,QAAQ,CAACsB,GAAT,CAAaN,GAAb,EAAkBL,IAAlB,CAAP;AACH,GAFK,MAEA;AACFY,IAAAA,OAAO,CAAChB,KAAR,CAAc,aAAaQ,MAA3B;AACA,WAAO,KAAP;AACH;AACJ","sourcesContent":["import axios from 'axios';\n// import router from '../router/index.js';\nimport { tip } from './utils.js';\n\nconst errorHandel = (status, msg) => {\n    switch(status) {\n        case 400:\n            tip(msg);\n            break;\n\n        case 404:\n            tip(msg);\n            break;\n        \n        default:\n            tip(msg);\n            break;\n    }\n}\n\nvar instance = axios.create({\n    baseURL: '/api/'\n})\n\ninstance.interceptors.request.use((config) => {\n    return config;\n}, (error) => {\n    return Promise.reject(error);\n});\n\ninstance.interceptors.response.use((response) => {\n    return response;\n}, (error) => {\n    const { response } = error;\n    if (response) {\n        errorHandel(response.status, response.data.error);\n        return Promise.reject(error);\n    } else {\n        if (!window.navigator.onLine) {\n            tip('網路問題 請重新連線');\n        } else {\n            return Promise.reject(error);\n        }\n    }\n});\n\nexport default function (method, url, data=null) {\n    method = method.toLowerCase();\n    if (method == 'post') {\n        return instance.post(url, data);\n    }else if (method == 'get'){\n        return instance.get(url, {params: data});\n    }else if (method == 'delete') {\n        return instance.delete(url, {params: data});\n    }else if (method == 'put') {\n        return instance.put(url, data);\n    }else {\n        console.error('未知method' + method);\n        return false;\n    }\n}"]}]}